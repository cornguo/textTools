<?php

function normText($string)
{
$symbols = array("â”œ", "â”€", "â”¼", "â”´", "â”¬", "â”¤", "â”Œ", "â”", "â•ž",
"â•", "â•ª", "â•¡", "â”‚", "â–•", "â””", "â”˜", "â•­", "â•®", "â•°", "â•¯",
"â•”", "â•¦", "â•—", "â• ", "â•", "â•¬", "â•£", "â•“", "â•¥", "â•–", "â•’",
"â•¤", "â••", "â•‘", "â•š", "â•©", "â•", "â•Ÿ", "â•«", "â•¢", "â•™", "â•¨",
"â•œ", "â•ž", "â•ª", "â•¡", "â•˜", "â•§", "â•›", "å„­µ", "å„­¶", "å„­·", "å„­¸",
"å„­¹", "å„­º", "å„­»", "å„­¼", "å„­½", "å„­¾", "å„­¿", "å„®€", "âˆ©", "âˆª", "å„®",
"å„®‚", "å„®ƒ", "å„®„", "â—Ž", "âŠ•", "âŠ™", "â—‹", "â—", "â–³", "â–²", "â–½",
"â–¼", "â˜†", "â˜…", "â—‡", "â—†", "â–¡", "â– ", "â˜Ž", "â˜", "â—", "â—‘",
"â™¡", "â™¥", "â™£", "â™§", "â™ ", "â™¤", "â˜œ", "â˜ž", "â™¬", "â—Š", "â—",
"âˆˆ", "âˆ‹", "â™€", "â™‚", "â™©", "â™ª", "â˜¼", "åš™¥", "ã€’", "åš™ ", "åš™¡",
"â€»", "â†”", "â†•", "â™¨", "å", "â—ˆ", "ç¦®", "â™­", "åš—¿", "Ë", "â–",
"â–‚", "â–ƒ", "â–„", "â–…", "â–†", "â–‡", "â–ˆ", "â–", "â–Ž", "â–", "â–Œ",
"â–‹", "â–Š", "â–‰", "â—¢", "â—£", "â—¥", "â—¤", "â–£", "â–¤", "â–¥", "â–¦",
"â–§", "â–¨", "â–©", "â–’", "â—€",  "â‰¡", "å„®", "çž½", "áƒ“", "Ëš", "Ïƒ",
"-", ",", "\\", "/", "~", "!", "?", "&lt;", "&gt;", "&quot;", "0.0",
"(", ")", "=", "+", "*", ".", "{", "}", ":", ";",
"[", "]", "ã€Š", "ã€‹", "ã€", "ã€‘", "Ë‡", "ã€ƒ", "ãŠ£", "åš—»", "åš—½",
"`", "_", "ã€ž", "â†’", "åš—Š", "â†—", "â†™", "åššž", "ã€", "é›‚", "å„®¡",
"â™«", "^", "ç©¢", "â˜º", "â€§", "  ", "â¤", "âˆ´", "å„­´", "â—¦", "ç°ž",
"âˆ½", "Ã—", "â€ ", "â‚¦", "ãŠš", "åšš¯", "åšš¡", "XDD", "XD", "åš—‚", "ã€†",
"â–ª", "â–«", "ã‚ž", "åš—Œ", "âˆ¥", "@", "åš—Ž", "å¸¤", "â„ƒ", "åš—ƒ", "â‰ ",
"å„®Œ", "ËŠ", "åš—", "âˆ®", "åš—ž", "åš—œ", "åš—Ÿ", "åš—", "ã€Ž", "ã€", "ã€Œ",
"ã€", "#", "åš— ", "Ï‰", "Ë‹", "åš™£", "â†–", "å„®‹", "åš—š", "|", "â–º",
"â€µ", "å„®", "'", "åš—ˆ", "åš—‰", "åš—‹", "ã‚›", "ã€–", "ã€—", "â€œ", "â‚¬",
"é‰ˆ", "Ü", "Ü", "â€²", "åšœ¬", "Ë™", "åš—", "â™¦", "â†˜", "â–¶", "â€¦",
"åš—", "â€™", "â†", "ã€¥", "åš—…", "åšš›", "åšš", "â˜»", "â•³", "åº¤", "å„®’",
"â€¢", "â„¢", "â€¥", "å„®Ž", "â€", "â€ž", "ã‚œ", "ãŒ”", "å„®Ÿ", "ã€‰", "ã€ˆ",
"é„", "åš—›", "âˆ¼", "â‰§", "â‰¦", "åšš¥", "å„®", "ãƒ¾", "â•´", "ç¹©", "ãƒŸ",
"áƒ¦", "ã†™", "â—„", "â„‰", "å„®¨", "âˆ•", "ã€˜", "ã€™", "ã€…", "ç°£", "â€˜",
"ã€", "åš—¾", "å„®‘", "ã€‚", "ã€”", "ã€•", "0o", "o0", "ãƒ¼", "â–‘",
"â˜‰", "å„®›", "å„®œ", "é‰ˆ‚", "$", "â˜€", "å„®¢", "é®", "ç°§", "â—˜", "âˆ˜", "âˆµ",
"Îž", "ã‰", "ç¹š", "å„®ž", " ", "æ€·", "ç°ª", "ç¬", "âˆž", "ãƒ»", "åš—„",
"â”¥", "â”", "é‰†‘", "è®", "Ûž", "é‰ˆ“", "éˆ³¨", "âœ–", "ãˆ±", "å„®¤", "å„®¥", "åšš¤",
"ãŠ›", "â€“", "å„®Š", "å„®", "å¾†", "å³", "â‰’", "â˜©", "âœ±", "åšŸ",
"âˆ«", "â„…", "Ï", "â†“", "â†‘", "â€”", "â‡”", "é‰’€", 
"âœž", "â£", "â–", "åº°",  "åššœ", "â˜‡", "â˜ˆ", "ãŽ¡", "â™",
"ã€„", "ï›¬", "âœ¥", "ã‚‘", "é‰’‚", "é‰¦‡", "é‰ˆœ", "âœ¿", "å„® ", );

//$string = str_replace($symbols, " ", $string);


$fullwidth = array("åš—¡", "åš—¢", "åš—£", "åš—¤", "åš—¥", "åš—¦", "åš—§",
    "åš—¨", "åš—©", "åš—ª", "åš—«", "åš—¬", "åš—­", "åš—®", "åš—¯", "åš—°",
    "åš—±", "åš—²", "åš—³", "åš—´", "åš—µ", "åš—¶", "åš—·", "åš—¸", "åš—¹",
    "åš—º", "åšš", "åšš‚", "åššƒ", "åšš„", "åšš…", "åšš†", "åšš‡", "åššˆ",
    "åšš‰", "åššŠ", "åšš‹", "åššŒ", "åšš", "åššŽ", "åšš", "åšš", "åšš‘",
    "åšš’", "åšš“", "åšš”", "åšš•", "åšš–", "åšš—", "åšš˜", "åšš™", "åššš",
    "â“", "â“‘", "â“’", "â““", "â“”", "â“•", "â“–", "â“—", "â“˜",
    "â“™", "â“š", "â“›", "â“œ", "â“", "â“ž", "â“Ÿ", "â“ ", "â“¡",
    "â“¢", "â“£", "â“¤", "â“¥", "â“¦", "â“§", "â“¨", "â“©", "ãŠ£",
    "ãŠŸ", "ãŠ•", "ãŠ—", "ãŠ¡", "ãŠ", "â‘ ", "â‘¡", "â‘¢", "â‘£",
    "â‘¤", "â‘¥", "â‘¦", "â‘§", "â‘¨", "â‘©", "â‘ª", "â‘«", "â‘¬",
    "â‘­", "â‘®", "â‘¯", "â‘°", "â‘±", "â‘²", "â‘³", "â‘´", "â‘µ",
    "â‘¶", "â‘·", "â‘¸", "â‘¹", "â‘º", "â‘»", "â‘¼", "â‘½", "ãˆ ",
    "ãˆ¡", "ãˆ¢", "ãˆ£", "ãˆ¤", "ãˆ¥", "ãˆ¦", "ãˆ§", "ãˆ¨", "ãˆ©",
    "åš—‘", "åš—’", "åš—“", "åš—”", "åš—•", "åš—–", "åš——", "åš—˜", "åš—™", "åš—",
    "â’œ", "â’", "â’ž", "â’Ÿ", "â’ ", "â’¡", "â’¢", "â’£", "â’¤",
    "â’¥", "â’¦", "â’§", "â’¨", "â’©", "â’ª", "â’«", "â’¬", "â’­",
    "â’®", "â’¯", "â’°", "â’±", "â’²", "â’³", "â’´", "â’µ",
    "ãŠ€", "ãŠ", "ãŠ‚", "ãŠƒ", "ãŠ„", "ãŠ…", "ãŠ†", "ãŠ‡", "ãŠˆ", "ãŠ‰",
    "â… ", "â…¡", "â…¢", "â…£", "â…¤", "â…¥", "â…¦", "â…§", "â…¨",
    "â…©", "â…ª", "â…«", "ã€¡", "ã€¢", "ã€£", "ã€¤", "ã€¥", "ã€¦",
    "ã€§", "ã€¨", "ã€©", "å", "å„", "å…",
    "ï¼ˆ", "ï¼‰", "ï¼»", "ï¼½", "ï½›", "ï½", "â€œ", "â€", "ã€", "ã€‘",
     "ï¼", "ï¼¼", "ï¼", "ï½œ", 
    "ï¼Œ", "ã€‚", "ï¼Ÿ", "ï¼", "ï¼š", "ï¼›",
//    "ã€€", "ã®", "ã„Œ", "ã„", "ã„‡", "ã„‹", "ïœ¤", "ã„Š",
//    "ãŠ™", "ã†–", 
    );

$halfwidth = array("A", "B", "C", "D", "E", "F", "G",
    "H", "I", "J", "K", "L", "M", "N", "O", "P",
    "Q", "R", "S", "T", "U", "V", "W", "X", "Y",
    "Z", "a", "b", "c", "d", "e", "f", "g", "h",
    "i", "j", "k", "l", "m", "n", "o", "p", "q",
    "r", "s", "t", "u", "v", "w", "x", "y", "z",
    "a", "b", "c", "d", "e", "f", "g", "h", "i",
    "j", "k", "l", "m", "n", "o", "p", "q", "r",
    "s", "t", "u", "v", "w", "x", "y", "z", "ç”‡£",
    "ç˜œ¨", "ç‰¹", "èŸ¡", "éš¡‘", "å„ª", "1", "2", "3", "4",
    "5", "6", "7", "8", "9", "10", "11", "12", "13",
    "14", "15", "16", "17", "18", "19", "20", "1", "2",
    "3", "4", "5", "6", "7", "8", "9", "10", "éŠ€",
    "éˆ­Œ", "éŠ‰", "å››", "éˆ­”", "å…­", "éŠƒ", "å…«", "éŠ‹", "å",
    "1", "2", "3", "4", "5", "6", "7", "8", "9", "0",
    "a", "b", "c", "d", "e", "f", "g", "h", "i",
    "j", "k", "l", "m", "n", "o", "p", "q", "r",
    "s", "t", "u", "v", "w", "x", "y", "z",
    "éŠ€", "éˆ­Œ", "éŠ‰", "å››", "éˆ­”", "å…­", "éŠƒ", "å…«", "éŠ‹", "å",
    "I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX",
    "X", "XI", "XII", "éŠ€", "éˆ­Œ", "éŠ‰", "å››", "éˆ­”", "å…­",
    "éŠƒ", "å…«", "éŠ‹", "å", "éˆ­Œå", "éŠ‰å",
    "(", ")", "[", "]", "{", "}", "\"", "\"", "[", "]",
    "-", "\\", "/", "|",
    ",", ".", "?", "!", ":", ";",
//    " ", "çš„", "éˆ­†", "å€‹", "å—Ž", "å‘¢", "çš„", "éšž–",
//    "èŸ¡•", "éŠŠ", 
    );

$string = str_replace($fullwidth, $halfwidth, $string);
$string = preg_replace("/  +/i", " ", $string);
$string = ltrim(rtrim($string));

$string = preg_replace("/ [^0-9a-z]/u", "", $string);

return $string;
}

?>
